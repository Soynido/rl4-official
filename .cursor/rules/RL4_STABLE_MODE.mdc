---
description: "[RL4] Stable cognitive mode â€” ignore internal RL4 writes"
globs: 
  - ".reasoning_rl4/**/*.RL4"
  - ".reasoning_rl4/*.RL4"
manual: true
alwaysApply: false
---

# RL4 FILES ARE PROTECTED BY DEFAULT

## ğŸ”’ NEVER modify Plan.RL4, Tasks.RL4, Context.RL4, ADRs.RL4

Unless the USER explicitly pastes a snapshot or patch request.

## ğŸ§  Behavior:

- DO NOT rewrite RL4 files automatically.
- DO NOT normalize or format them.
- DO NOT apply automatic corrections.
- DO NOT update versions.
- DO NOT rewrite timestamps.
- DO NOT trigger actions based on FS change.
- **DO NOT read RL4 files in response to filesystem events.**

## ğŸ“¥ Allowed actions (ONLY after explicit user prompt):

1. Generate RL4_PATCH blocks
2. Apply requested changes to RL4 files
3. Validate structure
4. Maintain @rl4:id

## ğŸš« FORBIDDEN AUTOMATIC ACTIONS:

- âŒ `read_file('.reasoning_rl4/Context.RL4')` in response to FS events
- âŒ `read_file('.reasoning_rl4/Plan.RL4')` without explicit user request
- âŒ `read_file('.reasoning_rl4/Tasks.RL4')` as part of validation loop
- âŒ Analyzing RL4 content proactively
- âŒ Reacting to file watcher events for `.RL4` files

## â±ï¸ COOLING PERIOD:

If you see a `.RL4` file change:
- **Wait for explicit user prompt**
- Do NOT read it automatically
- Do NOT analyze it proactively
- **The kernel handles internal state â€” you are NOT the kernel**

## ğŸ¯ RATIONALE:

This prevents infinite loops where:
1. RL4 kernel writes KPIs to Context.RL4
2. Cursor AI detects FS change
3. Cursor AI reads Context.RL4 â†’ triggers another FS event
4. LiveWatcher sees "external change" â†’ triggers runCycle()
5. Kernel writes KPIs again â†’ LOOP

**The kernel manages .RL4 files. The LLM consumes them only on user request.**
